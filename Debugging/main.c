#include "kcg_types.h"
#include <stdlib.h>
#include <stdio.h>

int main()
{
	array_float32_3_3 A;
	array_float32_3 b;
	array_float32_3 x;
	array_float32_6_6 A6;
	array_float32_6 b6;
	array_float32_6 x6;
	array_float32_4_4 A4;
	array_float32_4 b4;
	array_float32_4 x4;
	kcg_int32 n = 3;
	kcg_int32 rank = 0;
	kcg_bool consistent = kcg_true;

	int caseNum = 2;

	if (caseNum == 1)
	{
		//	Case 1
		A[0][0] = 9.0;
		A[0][1] = 3.0;
		A[0][2] = 4.0;
		A[1][0] = 4.0;
		A[1][1] = 3.0;
		A[1][2] = 4.0;
		A[2][0] = 1.0;
		A[2][1] = 1.0;
		A[2][2] = 1.0;
		b[0] = 7.0;
		b[1] = 8.0;
		b[2] = 3.0;
		//	Solution will be -1/5, 4, -4/5

	}
	
	if (caseNum == 2)
	{
		//	Case 2
		A[0][0] = 2.0;
		A[0][1] = 4.0;
		A[0][2] = 8.0;
		A[1][0] = 3.0;
		A[1][1] = 6.0;
		A[1][2] = 5.0;
		A[2][0] = 4.0;
		A[2][1] = 8.0;
		A[2][2] = 2.0;
		b[0] = 16.0;
		b[1] = 3.0;
		b[2] = -10.0;
		//	Solution will be 4, 3, true

	}

	if (caseNum == 3)
	{
		//	Case 3
		A[0][0] = 5.0;
		A[0][1] = -2.0;
		A[0][2] = 1.0;
		A[1][0] = 4.0;
		A[1][1] = 1.0;
		A[1][2] = -7.0;
		A[2][0] = 1.0;
		A[2][1] = -3.0;
		A[2][2] = 8.0;
		b[0] = 2.0;
		b[1] = 10.0;
		b[2] = -4.0;

	}

	if (caseNum == 4)
	{
		n = 6;
		//	Case 4
		A6[0][0] = 1.0;
		A6[0][1] = 1.0;
		A6[0][2] = -2.0;
		A6[0][3] = 1.0;
		A6[0][4] = 3.0;
		A6[0][5] = -1.0;
		A6[1][0] = 2.0;
		A6[1][1] = -1.0;
		A6[1][2] = 1.0;
		A6[1][3] = 2.0;
		A6[1][4] = 1.0;
		A6[1][5] = -3.0;
		A6[2][0] = 1.0;
		A6[2][1] = 3.0;
		A6[2][2] = -3.0;
		A6[2][3] = -1.0;
		A6[2][4] = 2.0;
		A6[2][5] = 1.0;
		A6[3][0] = 5.0;
		A6[3][1] = 2.0;
		A6[3][2] = -1.0;
		A6[3][3] = -1.0;
		A6[3][4] = 2.0;
		A6[3][5] = 1.0;
		A6[4][0] = -3.0;
		A6[4][1] = -1.0;
		A6[4][2] = 2.0;
		A6[4][3] = 3.0;
		A6[4][4] = 1.0;
		A6[4][5] = 3.0;
		A6[5][0] = 4.0;
		A6[5][1] = 3.0;
		A6[5][2] = 1.0;
		A6[5][3] = -6.0;
		A6[5][4] = -3.0;
		A6[5][5] = -2.0;
		b6[0] = 4.0;
		b6[1] = 20.0;
		b6[2] = -15.0;
		b6[3] = -3.0;
		b6[4] = 16.0;
		b6[5] = -27.0;

	}

	if (caseNum == 5)
	{
		n = 4;
		//	Case 5
		A4[0][0] = 4.0;
		A4[0][1] = 1.0;
		A4[0][2] = 2.0;
		A4[0][3] = -3.0;
		A4[1][0] = -3.0;
		A4[1][1] = 3.0;
		A4[1][2] = -1.0;
		A4[1][3] = 4.0;
		A4[2][0] = -1.0;
		A4[2][1] = 2.0;
		A4[2][2] = 5.0;
		A4[2][3] = 1.0;
		A4[3][0] = 5.0;
		A4[3][1] = 4.0;
		A4[3][2] = 3.0;
		A4[3][3] = -1.0;
		
		b4[0] = -16.0;
		b4[1] = 20.0;
		b4[2] = -4.0;
		b4[3] = -10.0;

		// Solution should be -1, 1, -2, 3
	}

	x[0] = 0.0;
	x[1] = 0.0;
	x[2] = 0.0;

	x6[0] = 0.0;
	x6[1] = 0.0;
	x6[2] = 0.0;
	x6[3] = 0.0;
	x6[4] = 0.0;
	x6[5] = 0.0;

	x4[0] = 0.0;
	x4[1] = 0.0;
	x4[2] = 0.0;
	x4[3] = 0.0;



	if (caseNum < 4)
	{
		Gauss_3x3(&A, &b, n, &x, &rank, &consistent);
	}
	if (caseNum == 4)
	{
		Gauss_6x6(&A6, &b6, n, &x6, &rank, &consistent);
	}
	if (caseNum == 5)
	{
		Gauss_4x4(&A4, &b4, n, &x4, &rank, &consistent);
	}
		

	

	int i, j, r = 3, c = 3;
	for (i = 0; i < r; i++)
	{
		for (j = 0; j < c; j++)
		{
			printf("%f", A[i][j]);
			printf(" ");
			if (j == c - 1)
			{
				printf("%f", x[i]);
				printf("\n");
			}
		}
	}

	return 0;
}